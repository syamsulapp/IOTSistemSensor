var iot;!function(a){"use strict";var b;b={centerModal:function(){var b=a(this),c=b.find(".modal-dialog");b.css("display","block"),c.css("margin-top",Math.max(0,(a(window).height()-c.height())/2))},switchSingle:function(b,c){var d=JSON.parse(localStorage.getItem("switchValues"))||{};switch(a('[data-unit="'+b+'"]').toggleClass("active"),a("#"+b).closest("label").toggleClass("checked",c),localStorage&&(d[b]=c,localStorage.setItem("switchValues",JSON.stringify(d))),b){case"switch-house-lock":c&&iot.armingModal(b);break;case"switch-garage-doors":a('[data-unit="'+b+'"] .status').html("In progress"),iot.garageDoors(b);break;case"switch-camera-1":case"switch-camera-2":c?iot.connectCam(b):a('[data-unit="'+b+'"] video')[0].pause()}},switchGroup:function(b,c){var d='[data-unit-group="'+b+'"]',e=JSON.parse(localStorage.getItem("switchValues"))||{};switch(c){case"all-on":a(d+" [data-unit]").each(function(){var b=a(this).data("unit");a(this).addClass("active"),a("#"+b).prop("checked",!0),a("#"+b).closest("label").addClass("checked"),e[b]=!0});break;case"all-off":a(d+" [data-unit]").each(function(){var b=a(this).data("unit");a(this).removeClass("active"),a("#"+b).prop("checked",!1),a("#"+b).closest("label").removeClass("checked"),e[b]=!1})}localStorage&&localStorage.setItem("switchValues",JSON.stringify(e))},armingModal:function(b){a('[data-unit="'+b+'"]').hasClass("active")||a('[data-unit="'+b+'"]').addClass("active"),a("#armModal").modal("show"),a("#armTimer .timer").timer({countdown:!0,format:"%s",duration:"10s",callback:function(){a("#armModal").modal("hide")}})},garageDoors:function(b,c){var d='[data-unit="'+b+'"]';switch(c){case"open":a(d+" .timer").timer({attribute:"aria-valuenow",style:"width",duration:a(d+" .timer").attr("aria-valuemax")+"s",callback:function(){a(d+" .timer").timer("remove"),a(d+" .status").removeClass("text-warning"),a(d+" .status").html("Open"),a(d+' [data-action="pause"]').hide(),a(d+' [data-action="close"]').show()}}),a(d+" .status").toggleClass("text-danger text-warning"),a(d+" .status").html("In progress"),a(d+' [data-action="open"]').hide(),a(d+' [data-action="pause"]').show();break;case"pause":a(d+" .timer").timer("pause"),a(d+" .status").html("Paused"),a(d+' [data-action="pause"]').hide(),a(d+' [data-action="resume"]').show();break;case"resume":a(d+" .timer").timer("resume"),a(d+" .status").html("In progress"),a(d+' [data-action="resume"]').hide(),a(d+' [data-action="pause"]').show();break;case"close":a(d+" .timer").timer({countdown:!0,attribute:"aria-valuenow",style:"width",duration:a(d+" .timer").attr("aria-valuemax")+"s",callback:function(){a(d+" .timer").timer("remove"),a(d+" .status").toggleClass("text-danger text-warning"),a(d+" .status").html("Closed"),a(d+' [data-action="pause"]').hide(),a(d+' [data-action="open"]').show()}}),a(d+" .status").toggleClass("text-warning"),a(d+" .status").html("In progress"),a(d+' [data-action="close"]').hide(),a(d+' [data-action="pause"]').show()}},washMachine:function(b,c){var d='[data-unit="'+b+'"]';switch(c){case"pause":a("#wash-machine").timer("pause"),a(d+" .status").html("Paused"),a(d+" .status").addClass("text-warning"),a(d+' [data-action="pause"]').hide(),a(d+' [data-action="resume"]').show();break;case"resume":a("#wash-machine").timer("resume"),a(d+" .status").html("ON"),a(d+" .status").removeClass("text-warning"),a(d+' [data-action="resume"]').hide(),a(d+' [data-action="pause"]').show()}},positionFab:function(){var b=a("#main"),c=!!b.get(0)&&b.get(0).scrollHeight>b.innerHeight();c&&a("#info-toggler").css("right","40px")},connectCam:function(b){a('[data-unit="'+b+'"] .card-preloader').css("display","block"),setTimeout(function(){a('[data-unit="'+b+'"] .card-preloader').fadeOut(),a('[data-unit="'+b+'"] video')[0].play()},800)},clearCountdown:function(){a("#"+this.id+"  .timer").timer("remove")}},window.iot=b}(this.jQuery);